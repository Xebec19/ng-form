<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-offset-2">
            <form (ngSubmit)="onSubmit(f)" #f="ngForm">
                <div 
                class="user-data" 
                ngModelGroup="userData"
                #userData="ngModelGroup"
                >
                    <div class="form-group">
                        <label for="username">
                            Username
                        </label>
                        <input 
                        type="text" 
                        id="username" 
                        class="form-control"
                        ngModel
                        name="username"
                        required
                        >
                    </div>
                    <button 
                    class="btn btn-default"
                    (click) = "suggestUserName()">
                        Suggest an username
                    </button>
                    <div class="form-group">
                        <label for="email">
                            Mail
                        </label>
                        <input 
                        type="email" 
                        id="email" 
                        class="form-control"
                        ngModel
                        name="email"
                        required
                        email
                        #email="ngModel"
                        >
                        <span
                        class="help-block"
                        *ngIf="!email.valid && email.touched"
                        >
                        Please enter a valid email
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="secret">
                        Secret Questions
                    </label>
                    <select 
                    id="secret" 
                    class="form-control"
                    [ngModel]="defaultQuestion"
                    name="secret"
                    >
                        <option value="pet">
                            Your first Pet?
                        </option>
                        <option value="teacher">
                            Your first teacher?
                        </option>
                    </select>
                </div>
                <p 
                *ngIf="userData.invalid && userData.touched"
                class="alert alert-danger"
                >
                  User data is invalid
                </p>
                <div class="form-group">
                    <textarea
                    class="form-control"
                    name="answer"
                    rows="3"
                    [(ngModel)]="answer"
                    >
                    </textarea>
                    <p>
                        Your Reply: {{answer}}
                    </p>
                    <div
                    class="radio"
                    *ngFor="let gender of genders"
                    >
                    <label>
                        <input 
                        type="radio"
                        name="gender"
                        ngModel
                        [value]="gender">
                        {{gender}}
                    </label>
                    </div>
                </div>
                <button 
                class="btn btn-primary" 
                type="submit"
                [disabled]="!f.valid"
                >
                    Submit
                </button>
            </form>
        </div>
    </div>
    <hr/>
    <div 
    *ngIf="submitted"
    class="col-xs-12">
        <h3>
            Your Data
        </h3>
        <p>
            Username: {{user.username}}
        </p>
        <p>
            Mail: {{user.email}}
        </p>
        <p>
            Secret Question: {{user.secretQuestion}}
        </p>
        <p>
            Answer: {{answer}}
        </p>
        <p>
            Gender: {{this.f.value.gender}}
        </p>
    </div>
</div>
